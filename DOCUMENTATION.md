# *greta* Package Documentation

## Generating the documentation
*greta* uses the [pkgdown](http://pkgdown.r-lib.org/) system
for creating the package documentation.

To generate the documentation, change your working directory to the top
of the *greta* repository,
start R, and use the `build_site` function.

```
pkgdown::build_site()
```

The `build_site` function will write its output to the `docs` directory.
Commit those file changes to your `git` repository.

*Pro tip:* Do **not** load the pkgdown package (`library(pkgdown)`) and run `build_site`.
Instead, just use the explicit scope qualifier (`pkgdown::build_site()`)
to run the function.
Otherwise, you'll get errors.

## Simple updates
Most documentation changes are quite easy. Just edit the appropriate file
and re-generate the documentation.

To change ...       |  Edit ...
--------------------|------------------------
Home page           |  `index.Rmd`
get started         |  `vignettes/get_started.Rmd`
examples            |  `vignettes/example_models.Rmd`
FAQ                 |  `vignettes/faq.Rmd`
functions           |  *generated by roxygen comments*
technical details   |  `vignettes/technical_details.Rmd`
news                |  `NEWS.md`

## Adding a page
To add a new page to the web site,

* Create a new RMarkdown file in the `vignettes` directory,
  for example `vignettes/myNewPage.Rmd`.
* Add the page to the navigation bar by editing the file `_pkgdown.yaml`.
  Follow the example of other files
  (or see the [documentation](http://pkgdown.r-lib.org/reference/build_site.html#yaml-config-navbar)).
* A minimal entry defines the `text` and `href`.
  Note that the `href` refers to the `articles` subdirectory (under `docs`),
  because that's where `pkgdown` will write the HTML file.
  
```
    - text: "my new page"
      href: articles/myNewPage.html
```

* Add the `myNewPage.Rmd` file and the `myNewPage.html` to *git*.
  Commit the change to `_pkgdown.yaml`, too.

## Changing the theme
The `pkgdown` system uses the [Bootstrap 3.3](https://getbootstrap.com/docs/3.3/)
library for styling pages.
The Bootstrap library includes a very handy
[configuration editing tool](https://getbootstrap.com/docs/3.3/customize/),
which you use to adjust the appearance of the *greta* documentation.

The configuration is saved in the `bootstrap/config.json` file,
along with the generated CSS and Javascript.
To change the configuration (and, hence, the appearance),

* Open the configuration editor in your browser:
  https://getbootstrap.com/docs/3.3/customize/
* Upload the existing configuration, `bootstrap/config.json`.
* Change the configuration.
  (Yes, there are a bewildering number of options.)
* Scroll to the bottom of the page and press *Compile and Download*.
* Save the downloaded files to the `bootstrap` directory,
  overwriting the existing files,
  especially the `bootstrap/config.json` file and the `bootstrap/css/boostrap.min.css` file.
* Commit the updated files to `git`.
